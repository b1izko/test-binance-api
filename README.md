# Description

Данный репозиторий представляет из себя реализацию тестового задания

## Тестовое задание

Создать Go приложение, состоящее из клиентской и серверной частей.
Приложение должно быть реализовано в виде CLI приложения на основе https://github.com/spf13/cobra

### Серверная часть

Должна предоставлять данные, предоставляемые публичным API биржи Binanсе, доступным по адресу https://api.binance.com/api/v3/ticker/price

Нужно реализовать два метода:
1) GET 
```bash
    $ curl http://localhost:3001/api/v1/rates?pairs=BTC-USDT,ETH-USDT
    { "ETH-USDT": 1780.123, "BTC-USDT": 46956.45 }
```
2) POST
```bash
    $ curl -X POST --data '{ "pairs": ["BTC-USDT", "ETH-USDT"] }' http://localhost:3001/api/v1/rates
    { "ETH-USDT": 1780.123, "BTC-USDT": 46956.45 }
```

Запуск серверной части:
```bash
    $ go run . server
    Listening at port 3001...
```
### Клиентская часть
Выполняет GET запрос к серверу и выводит ответ в консоль:
```bash
    $ go run . rate ---pair=ETH-USDT
    1780.123
```

# Realization

Проект представлят из себя приложение, построенное на шаблоне [Cobra Generator](https://github.com/spf13/cobra-cli/blob/main/README.md)

Для начала работы с программой необходимо выполнить следующие команды:
```bash
    $ go mod tidy
    $ go build .
```

### Серверная часть

Для работы с серверной частью необходимо вызвать следующую команду:

```bash
    $ go run . server
```

После выполнения команды запустится сервер, который при отправке запросов, указанных в задании, на адрес машины с портом 3001 вернет данные с API Binance для выбранной пары (или выбранных пар)

### Клиентская часть

Для работы с клиентской частью необходимо вызвать следующую команду:

```bash
    $ go run . rate --pair ETH-USDT
    ETHUSDT: 1565.91000000
```

ИЛИ

```bash
    $ go run . rate --pair ETH-USDT,BTC-USDT
    ETHUSDT: 1565.91000000; BTCUSDT: 22398.03000000
```

После выполнения команды выполнится запрос к Binance API для получения данных для указанной пары (или указанных пар)

# LINKS
- https://whattofarm.notion.site/6e7a3804ee0c43e3a2278a4165f18729